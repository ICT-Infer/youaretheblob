<!doctype html>
<meta charset="utf-8" />
<title>blob</title>
<style>
svg
{
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}
</style>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
<path id=blob fill="#000" stroke="none"/>
</svg>
<script>
// Copyright (c) 2017, Erik Nordstr√∏m <erik@nordstroem.no>

let r1 = 200;
let r2 =  20;

// m    0      $r
const d = "\
M 256  256 \
m $r1    0 \
q $xa $ya, -$r1 -$r1 \
q $xb $yb, -$r1  $r1 \
q $xc $yc,  $r1  $r1 \
q $xd $yd,  $r1 -$r1 \
";

const blob = document.getElementById('blob');

updateblob = () =>
{
	let x1a =   0; let y1a = -r1;
	let x1b = -r1; let y1b =   0;
	let x1c =   0; let y1c =  r1;
	let x1d =  r1; let y1d =   0;

	let t2 = Date.now() / 133;

	let xa = x1a + r2 * Math.cos(t2);
	let ya = y1a + r2 * Math.sin(t2);
	let xb = x1b + r2 * Math.cos(t2 + .5 * Math.PI);
	let yb = y1b + r2 * Math.sin(t2 + .5 * Math.PI);
	let xc = x1c + r2 * Math.cos(t2 + Math.PI);
	let yc = y1c + r2 * Math.sin(t2 + Math.PI);
	let xd = x1d + r2 * Math.cos(t2 + .75 * Math.PI);
	let yd = y1d + r2 * Math.sin(t2 + .75 * Math.PI);

	let dcurr = d.replace(/\$r1/g, r1)
	             .replace(/\$xa/g, xa)
	             .replace(/\$ya/g, ya)
	             .replace(/\$xb/g, xb)
	             .replace(/\$yb/g, yb)
	             .replace(/\$xc/g, xc)
	             .replace(/\$yc/g, yc)
	             .replace(/\$xd/g, xd)
	             .replace(/\$yd/g, yd);

	blob.setAttribute("d", dcurr);

	window.requestAnimationFrame(updateblob);
}

updateblob();
</script>
